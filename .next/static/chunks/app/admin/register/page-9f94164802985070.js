(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{4542:function(e,a,s){Promise.resolve().then(s.bind(s,4962))},4962:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return i}});var r=s(7437),n=s(2265),t=s(9376),l=s(7648);function i(){let e=(0,t.useRouter)(),[a,s]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[i,o]=(0,n.useState)(!1),[c,m]=(0,n.useState)(""),d=async s=>{if(s.preventDefault(),o(!0),m(""),a.password!==a.confirmPassword){m("Las contrase\xf1as no coinciden"),o(!1);return}if(a.password.length<6){m("La contrase\xf1a debe tener al menos 6 caracteres"),o(!1);return}try{let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,email:a.email,password:a.password})});if(s.ok)e.push("/admin/login?message=Usuario registrado exitosamente");else{let e=await s.json();m(e.error||"Error al registrar usuario")}}catch(e){console.error("Error registering user:",e),m("Error al registrar usuario")}finally{o(!1)}};return(0,r.jsx)("div",{className:"container py-5",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,r.jsx)("div",{className:"card shadow",children:(0,r.jsxs)("div",{className:"card-body p-4",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h2",{className:"h4 mb-2",children:"\uD83C\uDF81 Registro de Usuario"}),(0,r.jsx)("p",{className:"text-muted small",children:"Crea tu cuenta para gestionar eventos de Amigo Secreto"})]}),c&&(0,r.jsx)("div",{className:"alert alert-danger small",children:c}),(0,r.jsxs)("form",{onSubmit:d,children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nombre Completo"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"name",value:a.name,onChange:e=>s({...a,name:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"Correo Electr\xf3nico"}),(0,r.jsx)("input",{type:"email",className:"form-control",id:"email",value:a.email,onChange:e=>s({...a,email:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"password",className:"form-label",children:"Contrase\xf1a"}),(0,r.jsx)("input",{type:"password",className:"form-control",id:"password",value:a.password,onChange:e=>s({...a,password:e.target.value}),required:!0,minLength:6}),(0,r.jsx)("div",{className:"form-text small",children:"M\xednimo 6 caracteres"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmar Contrase\xf1a"}),(0,r.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",value:a.confirmPassword,onChange:e=>s({...a,confirmPassword:e.target.value}),required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"btn btn-gradient w-100",disabled:i,children:i?"Registrando...":"Crear Cuenta"})]}),(0,r.jsxs)("div",{className:"text-center mt-4",children:[(0,r.jsx)("p",{className:"text-muted small mb-2",children:"\xbfYa tienes cuenta?"}),(0,r.jsx)(l.default,{href:"/admin/login",className:"btn btn-outline-primary btn-sm",children:"Iniciar Sesi\xf3n"})]})]})})})})})}}},function(e){e.O(0,[448,971,117,560],function(){return e(e.s=4542)}),_N_E=e.O()}]);