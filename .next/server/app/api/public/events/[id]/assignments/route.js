"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/public/events/[id]/assignments/route";
exports.ids = ["app/api/public/events/[id]/assignments/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&page=%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute.ts&appDir=E%3A%5CProyectos%5CAmigo%20Secreto%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CProyectos%5CAmigo%20Secreto&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&page=%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute.ts&appDir=E%3A%5CProyectos%5CAmigo%20Secreto%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CProyectos%5CAmigo%20Secreto&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_Proyectos_Amigo_Secreto_app_api_public_events_id_assignments_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/public/events/[id]/assignments/route.ts */ \"(rsc)/./app/api/public/events/[id]/assignments/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/public/events/[id]/assignments/route\",\n        pathname: \"/api/public/events/[id]/assignments\",\n        filename: \"route\",\n        bundlePath: \"app/api/public/events/[id]/assignments/route\"\n    },\n    resolvedPagePath: \"E:\\\\Proyectos\\\\Amigo Secreto\\\\app\\\\api\\\\public\\\\events\\\\[id]\\\\assignments\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_Proyectos_Amigo_Secreto_app_api_public_events_id_assignments_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/public/events/[id]/assignments/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwdWJsaWMlMkZldmVudHMlMkYlNUJpZCU1RCUyRmFzc2lnbm1lbnRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwdWJsaWMlMkZldmVudHMlMkYlNUJpZCU1RCUyRmFzc2lnbm1lbnRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHVibGljJTJGZXZlbnRzJTJGJTVCaWQlNUQlMkZhc3NpZ25tZW50cyUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDUHJveWVjdG9zJTVDQW1pZ28lMjBTZWNyZXRvJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDUHJveWVjdG9zJTVDQW1pZ28lMjBTZWNyZXRvJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQztBQUNoSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FtaWdvLXNlY3JldG8vPzZhMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcUHJveWVjdG9zXFxcXEFtaWdvIFNlY3JldG9cXFxcYXBwXFxcXGFwaVxcXFxwdWJsaWNcXFxcZXZlbnRzXFxcXFtpZF1cXFxcYXNzaWdubWVudHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3B1YmxpYy9ldmVudHMvW2lkXS9hc3NpZ25tZW50cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3B1YmxpYy9ldmVudHMvW2lkXS9hc3NpZ25tZW50c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHVibGljL2V2ZW50cy9baWRdL2Fzc2lnbm1lbnRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcUHJveWVjdG9zXFxcXEFtaWdvIFNlY3JldG9cXFxcYXBwXFxcXGFwaVxcXFxwdWJsaWNcXFxcZXZlbnRzXFxcXFtpZF1cXFxcYXNzaWdubWVudHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3B1YmxpYy9ldmVudHMvW2lkXS9hc3NpZ25tZW50cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&page=%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute.ts&appDir=E%3A%5CProyectos%5CAmigo%20Secreto%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CProyectos%5CAmigo%20Secreto&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/public/events/[id]/assignments/route.ts":
/*!*********************************************************!*\
  !*** ./app/api/public/events/[id]/assignments/route.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.ts\");\n\n\n\nasync function GET(request, { params }) {\n    try {\n        const eventId = params.id;\n        if (!eventId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"ID de evento requerido\"\n            }, {\n                status: 400\n            });\n        }\n        const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n        const db = client.db(\"SaludDirecta\");\n        // Verificar que el evento existe\n        const event = await db.collection(\"amigo_secreto_events\").findOne({\n            _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(eventId)\n        });\n        if (!event) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Evento no encontrado\"\n            }, {\n                status: 404\n            });\n        }\n        // Obtener asignaciones existentes\n        const assignments = await db.collection(\"assignments\").find({\n            eventId: eventId\n        }).toArray();\n        // Obtener participantes para mapear IDs a nombres\n        const participants = await db.collection(\"participants\").find({\n            eventId: eventId\n        }).toArray();\n        const participantMap = new Map();\n        participants.forEach((p)=>{\n            participantMap.set(p._id.toString(), p.name);\n        });\n        // Convertir asignaciones a formato legible\n        const assignmentsMap = {};\n        assignments.forEach((assignment)=>{\n            const giverName = participantMap.get(assignment.giverId);\n            const receiverName = participantMap.get(assignment.receiverId);\n            if (giverName && receiverName) {\n                assignmentsMap[giverName] = receiverName;\n            }\n        });\n        // Obtener estado de revelaciones\n        const revealedParticipants = participants.filter((p)=>p.isRevealed).map((p)=>p.name);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            assignments: assignmentsMap,\n            revealedParticipants: revealedParticipants,\n            totalAssignments: assignments.length\n        });\n    } catch (error) {\n        console.error(\"Error fetching assignments:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Error interno del servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request, { params }) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"Las asignaciones ahora se generan individualmente al revelar\"\n    }, {\n        status: 400\n    });\n}\nasync function PUT(request, { params }) {\n    try {\n        const eventId = params.id;\n        const body = await request.json();\n        const { participantName } = body;\n        if (!eventId || !participantName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"ID de evento y nombre del participante requeridos\"\n            }, {\n                status: 400\n            });\n        }\n        const client = await _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n        const db = client.db(\"SaludDirecta\");\n        // Verificar que el evento existe\n        const event = await db.collection(\"amigo_secreto_events\").findOne({\n            _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(eventId)\n        });\n        if (!event) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Evento no encontrado\"\n            }, {\n                status: 404\n            });\n        }\n        // Verificar que el participante existe y no ha revelado\n        const participant = await db.collection(\"participants\").findOne({\n            eventId: eventId,\n            name: participantName\n        });\n        if (!participant) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Participante no encontrado\"\n            }, {\n                status: 404\n            });\n        }\n        if (participant.isRevealed) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Participante ya revelado\"\n            }, {\n                status: 400\n            });\n        }\n        // Obtener todos los participantes del evento\n        const allParticipants = await db.collection(\"participants\").find({\n            eventId: eventId\n        }).toArray();\n        // Obtener asignaciones existentes para saber quién ya está asignado\n        const existingAssignments = await db.collection(\"assignments\").find({\n            eventId: eventId\n        }).toArray();\n        // Crear mapa de participantes asignados\n        const assignedReceivers = new Set();\n        const assignedGivers = new Set();\n        existingAssignments.forEach((assignment)=>{\n            assignedReceivers.add(assignment.receiverId);\n            assignedGivers.add(assignment.giverId);\n        });\n        // Encontrar participantes disponibles (que no son el giver actual y no están ya asignados como receivers)\n        const availableParticipants = allParticipants.filter((p)=>p._id.toString() !== participant._id.toString() && // No puede asignarse a sí mismo\n            !assignedReceivers.has(p._id.toString()) // No puede ser receiver si ya lo es\n        );\n        if (availableParticipants.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No hay participantes disponibles para asignar\"\n            }, {\n                status: 400\n            });\n        }\n        // Seleccionar un receiver aleatorio de los disponibles\n        const randomIndex = Math.floor(Math.random() * availableParticipants.length);\n        const selectedReceiver = availableParticipants[randomIndex];\n        // Crear la asignación\n        const newAssignment = {\n            eventId: eventId,\n            giverId: participant._id.toString(),\n            receiverId: selectedReceiver._id.toString(),\n            createdAt: new Date()\n        };\n        // Guardar la asignación\n        await db.collection(\"assignments\").insertOne(newAssignment);\n        // Marcar el participante como revelado\n        await db.collection(\"participants\").updateOne({\n            _id: participant._id\n        }, {\n            $set: {\n                isRevealed: true,\n                revealedAt: new Date()\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Asignaci\\xf3n generada y participante marcado como revelado\",\n            assignment: {\n                giver: participant.name,\n                receiver: selectedReceiver.name\n            },\n            participant: {\n                _id: participant._id.toString(),\n                name: participant.name,\n                isRevealed: true,\n                revealedAt: new Date()\n            }\n        });\n    } catch (error) {\n        console.error(\"Error creating individual assignment:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Error interno del servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3B1YmxpYy9ldmVudHMvW2lkXS9hc3NpZ25tZW50cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVEO0FBQ3JCO0FBQ087QUFFbEMsZUFBZUcsSUFDcEJDLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBOEI7SUFFdEMsSUFBSTtRQUNGLE1BQU1DLFVBQVVELE9BQU9FLEVBQUU7UUFFekIsSUFBSSxDQUFDRCxTQUFTO1lBQ1osT0FBT04scURBQVlBLENBQUNRLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUF5QixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDOUU7UUFFQSxNQUFNQyxTQUFTLE1BQU1ULG9EQUFhQTtRQUNsQyxNQUFNVSxLQUFLRCxPQUFPQyxFQUFFLENBQUM7UUFFckIsaUNBQWlDO1FBQ2pDLE1BQU1DLFFBQVEsTUFBTUQsR0FBR0UsVUFBVSxDQUFDLHdCQUF3QkMsT0FBTyxDQUFDO1lBQ2hFQyxLQUFLLElBQUlmLDZDQUFRQSxDQUFDSztRQUNwQjtRQUVBLElBQUksQ0FBQ08sT0FBTztZQUNWLE9BQU9iLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBdUIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzVFO1FBRUEsa0NBQWtDO1FBQ2xDLE1BQU1PLGNBQWMsTUFBTUwsR0FBR0UsVUFBVSxDQUFDLGVBQWVJLElBQUksQ0FBQztZQUMxRFosU0FBU0E7UUFDWCxHQUFHYSxPQUFPO1FBRVYsa0RBQWtEO1FBQ2xELE1BQU1DLGVBQWUsTUFBTVIsR0FBR0UsVUFBVSxDQUFDLGdCQUFnQkksSUFBSSxDQUFDO1lBQzVEWixTQUFTQTtRQUNYLEdBQUdhLE9BQU87UUFFVixNQUFNRSxpQkFBaUIsSUFBSUM7UUFDM0JGLGFBQWFHLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDbkJILGVBQWVJLEdBQUcsQ0FBQ0QsRUFBRVIsR0FBRyxDQUFDVSxRQUFRLElBQUlGLEVBQUVHLElBQUk7UUFDN0M7UUFFQSwy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QkFDWjZCLFlBQVksSUFBSUo7WUFDbEI7UUFDRjtRQUdGLE9BQU85RCxxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO1lBQ3ZCMkQsU0FBUztZQUNUdEMsWUFBWTtnQkFDVnVDLE9BQU90QixZQUFZbkIsSUFBSTtnQkFDdkIwQyxVQUFVVixpQkFBaUJoQyxJQUFJO1lBQ2pDO1lBQ0FtQixhQUFhO2dCQUNYOUIsS0FBSzhCLFlBQVk5QixHQUFHLENBQUNVLFFBQVE7Z0JBQzdCQyxNQUFNbUIsWUFBWW5CLElBQUk7Z0JBQ3RCVSxZQUFZO2dCQUNaNkIsWUFBWSxJQUFJSjtZQUNsQjtRQUNGO0lBQ0YsRUFBRSxPQUFPckQsT0FBTztRQUNkZ0MsUUFBUWhDLEtBQUssQ0FBQyx5Q0FBeUNBO1FBQ3ZELE9BQU9ULHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE2QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNsRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW1pZ28tc2VjcmV0by8uL2FwcC9hcGkvcHVibGljL2V2ZW50cy9baWRdL2Fzc2lnbm1lbnRzL3JvdXRlLnRzPzJkY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInXHJcbmltcG9ydCBjbGllbnRQcm9taXNlIGZyb20gJ0AvbGliL21vbmdvZGInXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBldmVudElkID0gcGFyYW1zLmlkXHJcblxyXG4gICAgaWYgKCFldmVudElkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSUQgZGUgZXZlbnRvIHJlcXVlcmlkbycgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2VcclxuICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKCdTYWx1ZERpcmVjdGEnKVxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZXZlbnRvIGV4aXN0ZVxyXG4gICAgY29uc3QgZXZlbnQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdhbWlnb19zZWNyZXRvX2V2ZW50cycpLmZpbmRPbmUoe1xyXG4gICAgICBfaWQ6IG5ldyBPYmplY3RJZChldmVudElkKVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoIWV2ZW50KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRXZlbnRvIG5vIGVuY29udHJhZG8nIH0sIHsgc3RhdHVzOiA0MDQgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnRlbmVyIGFzaWduYWNpb25lcyBleGlzdGVudGVzXHJcbiAgICBjb25zdCBhc3NpZ25tZW50cyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2Fzc2lnbm1lbnRzJykuZmluZCh7XHJcbiAgICAgIGV2ZW50SWQ6IGV2ZW50SWRcclxuICAgIH0pLnRvQXJyYXkoKVxyXG5cclxuICAgIC8vIE9idGVuZXIgcGFydGljaXBhbnRlcyBwYXJhIG1hcGVhciBJRHMgYSBub21icmVzXHJcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdwYXJ0aWNpcGFudHMnKS5maW5kKHtcclxuICAgICAgZXZlbnRJZDogZXZlbnRJZFxyXG4gICAgfSkudG9BcnJheSgpXHJcblxyXG4gICAgY29uc3QgcGFydGljaXBhbnRNYXAgPSBuZXcgTWFwKClcclxuICAgIHBhcnRpY2lwYW50cy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICBwYXJ0aWNpcGFudE1hcC5zZXQocC5faWQudG9TdHJpbmcoKSwgcC5uYW1lKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBDb252ZXJ0aXIgYXNpZ25hY2lvbmVzIGEgZm9ybWF0byBsZWdpYmxlXHJcbiAgICBjb25zdCBhc3NpZ25tZW50c01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XHJcbiAgICBhc3NpZ25tZW50cy5mb3JFYWNoKGFzc2lnbm1lbnQgPT4ge1xyXG4gICAgICBjb25zdCBnaXZlck5hbWUgPSBwYXJ0aWNpcGFudE1hcC5nZXQoYXNzaWdubWVudC5naXZlcklkKVxyXG4gICAgICBjb25zdCByZWNlaXZlck5hbWUgPSBwYXJ0aWNpcGFudE1hcC5nZXQoYXNzaWdubWVudC5yZWNlaXZlcklkKVxyXG4gICAgICBpZiAoZ2l2ZXJOYW1lICYmIHJlY2VpdmVyTmFtZSkge1xyXG4gICAgICAgIGFzc2lnbm1lbnRzTWFwW2dpdmVyTmFtZV0gPSByZWNlaXZlck5hbWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBPYnRlbmVyIGVzdGFkbyBkZSByZXZlbGFjaW9uZXNcclxuICAgIGNvbnN0IHJldmVhbGVkUGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzXHJcbiAgICAgIC5maWx0ZXIocCA9PiBwLmlzUmV2ZWFsZWQpXHJcbiAgICAgIC5tYXAocCA9PiBwLm5hbWUpXHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgYXNzaWdubWVudHM6IGFzc2lnbm1lbnRzTWFwLFxyXG4gICAgICByZXZlYWxlZFBhcnRpY2lwYW50czogcmV2ZWFsZWRQYXJ0aWNpcGFudHMsXHJcbiAgICAgIHRvdGFsQXNzaWdubWVudHM6IGFzc2lnbm1lbnRzLmxlbmd0aFxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXNzaWdubWVudHM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgZXJyb3I6ICdMYXMgYXNpZ25hY2lvbmVzIGFob3JhIHNlIGdlbmVyYW4gaW5kaXZpZHVhbG1lbnRlIGFsIHJldmVsYXInXHJcbiAgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBldmVudElkID0gcGFyYW1zLmlkXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgIGNvbnN0IHsgcGFydGljaXBhbnROYW1lIH0gPSBib2R5XHJcblxyXG4gICAgaWYgKCFldmVudElkIHx8ICFwYXJ0aWNpcGFudE5hbWUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBlcnJvcjogJ0lEIGRlIGV2ZW50byB5IG5vbWJyZSBkZWwgcGFydGljaXBhbnRlIHJlcXVlcmlkb3MnXHJcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignU2FsdWREaXJlY3RhJylcclxuXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIGVsIGV2ZW50byBleGlzdGVcclxuICAgIGNvbnN0IGV2ZW50ID0gYXdhaXQgZGIuY29sbGVjdGlvbignYW1pZ29fc2VjcmV0b19ldmVudHMnKS5maW5kT25lKHtcclxuICAgICAgX2lkOiBuZXcgT2JqZWN0SWQoZXZlbnRJZClcclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFldmVudCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0V2ZW50byBubyBlbmNvbnRyYWRvJyB9LCB7IHN0YXR1czogNDA0IH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBwYXJ0aWNpcGFudGUgZXhpc3RlIHkgbm8gaGEgcmV2ZWxhZG9cclxuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gYXdhaXQgZGIuY29sbGVjdGlvbigncGFydGljaXBhbnRzJykuZmluZE9uZSh7XHJcbiAgICAgIGV2ZW50SWQ6IGV2ZW50SWQsXHJcbiAgICAgIG5hbWU6IHBhcnRpY2lwYW50TmFtZVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoIXBhcnRpY2lwYW50KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgZXJyb3I6ICdQYXJ0aWNpcGFudGUgbm8gZW5jb250cmFkbydcclxuICAgICAgfSwgeyBzdGF0dXM6IDQwNCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYXJ0aWNpcGFudC5pc1JldmVhbGVkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgZXJyb3I6ICdQYXJ0aWNpcGFudGUgeWEgcmV2ZWxhZG8nXHJcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnRlbmVyIHRvZG9zIGxvcyBwYXJ0aWNpcGFudGVzIGRlbCBldmVudG9cclxuICAgIGNvbnN0IGFsbFBhcnRpY2lwYW50cyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3BhcnRpY2lwYW50cycpLmZpbmQoe1xyXG4gICAgICBldmVudElkOiBldmVudElkXHJcbiAgICB9KS50b0FycmF5KClcclxuXHJcbiAgICAvLyBPYnRlbmVyIGFzaWduYWNpb25lcyBleGlzdGVudGVzIHBhcmEgc2FiZXIgcXVpw6luIHlhIGVzdMOhIGFzaWduYWRvXHJcbiAgICBjb25zdCBleGlzdGluZ0Fzc2lnbm1lbnRzID0gYXdhaXQgZGIuY29sbGVjdGlvbignYXNzaWdubWVudHMnKS5maW5kKHtcclxuICAgICAgZXZlbnRJZDogZXZlbnRJZFxyXG4gICAgfSkudG9BcnJheSgpXHJcblxyXG4gICAgLy8gQ3JlYXIgbWFwYSBkZSBwYXJ0aWNpcGFudGVzIGFzaWduYWRvc1xyXG4gICAgY29uc3QgYXNzaWduZWRSZWNlaXZlcnMgPSBuZXcgU2V0KClcclxuICAgIGNvbnN0IGFzc2lnbmVkR2l2ZXJzID0gbmV3IFNldCgpXHJcblxyXG4gICAgZXhpc3RpbmdBc3NpZ25tZW50cy5mb3JFYWNoKGFzc2lnbm1lbnQgPT4ge1xyXG4gICAgICBhc3NpZ25lZFJlY2VpdmVycy5hZGQoYXNzaWdubWVudC5yZWNlaXZlcklkKVxyXG4gICAgICBhc3NpZ25lZEdpdmVycy5hZGQoYXNzaWdubWVudC5naXZlcklkKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBFbmNvbnRyYXIgcGFydGljaXBhbnRlcyBkaXNwb25pYmxlcyAocXVlIG5vIHNvbiBlbCBnaXZlciBhY3R1YWwgeSBubyBlc3TDoW4geWEgYXNpZ25hZG9zIGNvbW8gcmVjZWl2ZXJzKVxyXG4gICAgY29uc3QgYXZhaWxhYmxlUGFydGljaXBhbnRzID0gYWxsUGFydGljaXBhbnRzLmZpbHRlcihwID0+XHJcbiAgICAgIHAuX2lkLnRvU3RyaW5nKCkgIT09IHBhcnRpY2lwYW50Ll9pZC50b1N0cmluZygpICYmIC8vIE5vIHB1ZWRlIGFzaWduYXJzZSBhIHPDrSBtaXNtb1xyXG4gICAgICAhYXNzaWduZWRSZWNlaXZlcnMuaGFzKHAuX2lkLnRvU3RyaW5nKCkpIC8vIE5vIHB1ZWRlIHNlciByZWNlaXZlciBzaSB5YSBsbyBlc1xyXG4gICAgKVxyXG5cclxuICAgIGlmIChhdmFpbGFibGVQYXJ0aWNpcGFudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgZXJyb3I6ICdObyBoYXkgcGFydGljaXBhbnRlcyBkaXNwb25pYmxlcyBwYXJhIGFzaWduYXInXHJcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZWxlY2Npb25hciB1biByZWNlaXZlciBhbGVhdG9yaW8gZGUgbG9zIGRpc3BvbmlibGVzXHJcbiAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF2YWlsYWJsZVBhcnRpY2lwYW50cy5sZW5ndGgpXHJcbiAgICBjb25zdCBzZWxlY3RlZFJlY2VpdmVyID0gYXZhaWxhYmxlUGFydGljaXBhbnRzW3JhbmRvbUluZGV4XVxyXG5cclxuICAgIC8vIENyZWFyIGxhIGFzaWduYWNpw7NuXHJcbiAgICBjb25zdCBuZXdBc3NpZ25tZW50ID0ge1xyXG4gICAgICBldmVudElkOiBldmVudElkLFxyXG4gICAgICBnaXZlcklkOiBwYXJ0aWNpcGFudC5faWQudG9TdHJpbmcoKSxcclxuICAgICAgcmVjZWl2ZXJJZDogc2VsZWN0ZWRSZWNlaXZlci5faWQudG9TdHJpbmcoKSxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gR3VhcmRhciBsYSBhc2lnbmFjacOzblxyXG4gICAgYXdhaXQgZGIuY29sbGVjdGlvbignYXNzaWdubWVudHMnKS5pbnNlcnRPbmUobmV3QXNzaWdubWVudClcclxuXHJcbiAgICAvLyBNYXJjYXIgZWwgcGFydGljaXBhbnRlIGNvbW8gcmV2ZWxhZG9cclxuICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3BhcnRpY2lwYW50cycpLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IHBhcnRpY2lwYW50Ll9pZCB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgaXNSZXZlYWxlZDogdHJ1ZSxcclxuICAgICAgICAgIHJldmVhbGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiAnQXNpZ25hY2nDs24gZ2VuZXJhZGEgeSBwYXJ0aWNpcGFudGUgbWFyY2FkbyBjb21vIHJldmVsYWRvJyxcclxuICAgICAgYXNzaWdubWVudDoge1xyXG4gICAgICAgIGdpdmVyOiBwYXJ0aWNpcGFudC5uYW1lLFxyXG4gICAgICAgIHJlY2VpdmVyOiBzZWxlY3RlZFJlY2VpdmVyLm5hbWVcclxuICAgICAgfSxcclxuICAgICAgcGFydGljaXBhbnQ6IHtcclxuICAgICAgICBfaWQ6IHBhcnRpY2lwYW50Ll9pZC50b1N0cmluZygpLFxyXG4gICAgICAgIG5hbWU6IHBhcnRpY2lwYW50Lm5hbWUsXHJcbiAgICAgICAgaXNSZXZlYWxlZDogdHJ1ZSxcclxuICAgICAgICByZXZlYWxlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGluZGl2aWR1YWwgYXNzaWdubWVudDonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiT2JqZWN0SWQiLCJjbGllbnRQcm9taXNlIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImV2ZW50SWQiLCJpZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImNsaWVudCIsImRiIiwiZXZlbnQiLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsIl9pZCIsImFzc2lnbm1lbnRzIiwiZmluZCIsInRvQXJyYXkiLCJwYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudE1hcCIsIk1hcCIsImZvckVhY2giLCJwIiwic2V0IiwidG9TdHJpbmciLCJuYW1lIiwiYXNzaWdubWVudHNNYXAiLCJhc3NpZ25tZW50IiwiZ2l2ZXJOYW1lIiwiZ2V0IiwiZ2l2ZXJJZCIsInJlY2VpdmVyTmFtZSIsInJlY2VpdmVySWQiLCJyZXZlYWxlZFBhcnRpY2lwYW50cyIsImZpbHRlciIsImlzUmV2ZWFsZWQiLCJtYXAiLCJ0b3RhbEFzc2lnbm1lbnRzIiwibGVuZ3RoIiwiY29uc29sZSIsIlBPU1QiLCJQVVQiLCJib2R5IiwicGFydGljaXBhbnROYW1lIiwicGFydGljaXBhbnQiLCJhbGxQYXJ0aWNpcGFudHMiLCJleGlzdGluZ0Fzc2lnbm1lbnRzIiwiYXNzaWduZWRSZWNlaXZlcnMiLCJTZXQiLCJhc3NpZ25lZEdpdmVycyIsImFkZCIsImF2YWlsYWJsZVBhcnRpY2lwYW50cyIsImhhcyIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2VsZWN0ZWRSZWNlaXZlciIsIm5ld0Fzc2lnbm1lbnQiLCJjcmVhdGVkQXQiLCJEYXRlIiwiaW5zZXJ0T25lIiwidXBkYXRlT25lIiwiJHNldCIsInJldmVhbGVkQXQiLCJtZXNzYWdlIiwiZ2l2ZXIiLCJyZWNlaXZlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/public/events/[id]/assignments/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.ts":
/*!************************!*\
  !*** ./lib/mongodb.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    let globalWithMongo = global;\n    if (!globalWithMongo._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        globalWithMongo._mongoClientPromise = client.connect();\n    }\n    clientPromise = globalWithMongo._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFFckMsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBRTtJQUM1QixNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFQSxNQUFNQyxNQUFNSixRQUFRQyxHQUFHLENBQUNDLFdBQVc7QUFDbkMsTUFBTUcsVUFBVSxDQUFDO0FBRWpCLElBQUlDO0FBQ0osSUFBSUM7QUFFSixJQUFJUCxJQUF5QixFQUFlO0lBQzFDLCtEQUErRDtJQUMvRCw2RUFBNkU7SUFDN0UsSUFBSVEsa0JBQWtCQztJQUl0QixJQUFJLENBQUNELGdCQUFnQkUsbUJBQW1CLEVBQUU7UUFDeENKLFNBQVMsSUFBSVAsZ0RBQVdBLENBQUNLLEtBQUtDO1FBQzlCRyxnQkFBZ0JFLG1CQUFtQixHQUFHSixPQUFPSyxPQUFPO0lBQ3REO0lBQ0FKLGdCQUFnQkMsZ0JBQWdCRSxtQkFBbUI7QUFDckQsT0FBTyxFQUlOO0FBRUQsaUVBQWlFO0FBQ2pFLDhEQUE4RDtBQUM5RCxpRUFBZUgsYUFBYUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FtaWdvLXNlY3JldG8vLi9saWIvbW9uZ29kYi50cz8wNWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYidcclxuXHJcbmlmICghcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQvTWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZTogXCJNT05HT0RCX1VSSVwiJylcclxufVxyXG5cclxuY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUklcclxuY29uc3Qgb3B0aW9ucyA9IHt9XHJcblxyXG5sZXQgY2xpZW50XHJcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PlxyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgLy8gSW4gZGV2ZWxvcG1lbnQgbW9kZSwgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlIHNvIHRoYXQgdGhlIHZhbHVlXHJcbiAgLy8gaXMgcHJlc2VydmVkIGFjcm9zcyBtb2R1bGUgcmVsb2FkcyBjYXVzZWQgYnkgSE1SIChIb3QgTW9kdWxlIFJlcGxhY2VtZW50KS5cclxuICBsZXQgZ2xvYmFsV2l0aE1vbmdvID0gZ2xvYmFsIGFzIHR5cGVvZiBnbG9iYWxUaGlzICYge1xyXG4gICAgX21vbmdvQ2xpZW50UHJvbWlzZT86IFByb21pc2U8TW9uZ29DbGllbnQ+XHJcbiAgfVxyXG5cclxuICBpZiAoIWdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlKSB7XHJcbiAgICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJpLCBvcHRpb25zKVxyXG4gICAgZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpXHJcbiAgfVxyXG4gIGNsaWVudFByb21pc2UgPSBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZVxyXG59IGVsc2Uge1xyXG4gIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXHJcbiAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucylcclxuICBjbGllbnRQcm9taXNlID0gY2xpZW50LmNvbm5lY3QoKVxyXG59XHJcblxyXG4vLyBFeHBvcnQgYSBtb2R1bGUtc2NvcGVkIE1vbmdvQ2xpZW50IHByb21pc2UuIEJ5IGRvaW5nIHRoaXMgaW4gYVxyXG4vLyBzZXBhcmF0ZSBtb2R1bGUsIHRoZSBjbGllbnQgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgZnVuY3Rpb25zLlxyXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiRXJyb3IiLCJ1cmkiLCJvcHRpb25zIiwiY2xpZW50IiwiY2xpZW50UHJvbWlzZSIsImdsb2JhbFdpdGhNb25nbyIsImdsb2JhbCIsIl9tb25nb0NsaWVudFByb21pc2UiLCJjb25uZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&page=%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpublic%2Fevents%2F%5Bid%5D%2Fassignments%2Froute.ts&appDir=E%3A%5CProyectos%5CAmigo%20Secreto%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CProyectos%5CAmigo%20Secreto&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();