"use strict";(()=>{var e={};e.id=359,e.ids=[359],e.modules={38013:e=>{e.exports=require("mongodb")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},64934:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var r={};n.r(r),n.d(r,{DELETE:()=>p,GET:()=>c});var s=n(49303),a=n(88716),i=n(60670),o=n(87070),d=n(9487);async function c(e,{params:t}){let n=t.id;try{let e=await d.Z.collection("assignments").find({eventId:n}).toArray();return o.NextResponse.json(e)}catch(e){return console.error("Error fetching assignments:",e),o.NextResponse.json({error:"Error al obtener asignaciones"},{status:500})}}async function p(e,{params:t}){let n=t.id;try{return await d.Z.collection("assignments").deleteMany({eventId:n}),o.NextResponse.json({message:"Asignaciones limpiadas correctamente"})}catch(e){return console.error("Error clearing assignments:",e),o.NextResponse.json({error:"Error al limpiar asignaciones"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/admin/events/[id]/assignments/route",pathname:"/api/admin/events/[id]/assignments",filename:"route",bundlePath:"app/api/admin/events/[id]/assignments/route"},resolvedPagePath:"E:\\Proyectos\\Amigo Secreto\\app\\api\\admin\\events\\[id]\\assignments\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=u,v="/api/admin/events/[id]/assignments/route";function x(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},9487:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(38013);let s=process.env.MONGODB_URI||"",a=new r.MongoClient(s).db("SaludDirecta")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[276,972],()=>n(64934));module.exports=r})();